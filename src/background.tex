\section{Background}
\label{sec:back}

\subsection{Aplicaciones Android}
Explicar composición de aplicaciones Android, actividades, servicios, etc.

\subsection{Estructura de trabajo en JIF}
- estructura de los directorios del compilador Jif y estructura de trabajo en
Jif(para entender cómo funciona y cómo afecta el diseño de la
solución).

\subsection{Sistema de anotaciones en Jif}
Jif es un lenguaje tipado de seguridad que extiende al lenguaje Java con labels
de seguridad, a través de los cuales se especifican restricciones de cómo
debería ser utilizada la información.\newline 
Jif está compuesto por un compilador y un sistema de anotaciones.\newline
% El sistema de anotaciones está basado en un modelo de etiquetas
% DLM(Decentralized Label Model), donde existen principals, políticas y
% labels.\newline
Para hacer seguimiento al control de flujo de información de un programa
implementado en Java, se debe implementar la respectiva versión Jif, es decir,
la versión del programa donde mediante el sistema de anotaciones se especifican
las políticas de seguridad a evaluar.\newline 
Luego, la versión Jif del programa se compila con el compilador de Jif.
Este aplica chequeo de labels(label checking)\cite{jifRef} para verificar que
los flujos de información que se generan al interior del programa, cumplen con
las políticas definidas.

\subsubsection{DML(Decentralized Label Model)}
Jif basa su sistema de anotaciones en el modelo de etiquetas DLM(Decentralized
Label Model), donde se manejan tres elementos fundamentales: Principals,
Políticas y Labels.\newline
Principals: un principal es una entidad con autoridad para observar y cambiar
aspectos del sistema. Jif cuenta con una serie de principals ya
definidos, por ejemplo, Alice, Bob, Chunck, etc, que pueden ser
utilizados al momento de anotar.\newline 
Políticas: mediante políticas de seguridad el dueño de la política, que es el
principal que la define, determina qué otros principals pueden leer o
influenciar la información. Así, una política puede ser de confidencialidad o de
integridad, y se especifican de la forma: \{owner: reader list\} u
\{owner: writer list\}.\newline 
Labels: un label consiste en un conjunto de políticas de confidencialidad e
integridad. Los labels se escriben en las expresiones del progrma que se
anota(labels de seguridad), esto es métodos, variables, arrays, etc..\newline 
En sisntesís, las políticas de seguridad definen que principals pueden leer o
modificar la información, y esas políticas se expresan mediante labels.

\subsubsection{Label Checking}
Para hacer seguimiento al flujo de información de un programa, el compilador de
Jif asocia un label al program counter de cada punto del programa,
progam-counter label(\underline{pc}). En cada punto del programa, el
(\underline{pc}) representa la información que podría conocerse tras la
ejecución de ese punto del programa.
El (\underline{pc}) es afectado por los labels con que se define cada sentencia
y expresión del programa, por tanto este es considerado como el límite
superior(máxima información que podría conocerse) de los labels que han afectado
el flujo de información para llegar a un determinado punto de ejecución.\newline
Adicionalmente, jif define labels que representan la información que podría
conocerse tras la terminación normal, o terminación por excepción de las
sentencias del programa. Y labels enviroments, que para cada punto del programa
determinan la forma en que se relacionan labels y principals.\newline
El valor dichos labels es verificado durante la compilación del programa, si se
detecta que no cumplen con las restricciones establecidas en la anotación del
mismo, el compilador genera error, indicando los puntos del programa que las
incumple.\newline

-Implicit flows and program-counter labels\newline
- sobreescritura de métodos

\subsubsection{Sintaxis de labels}
Como se representa leer y escribir

\subsubsection{Sintaxis de Anotación en Jif}
\label{subsec:JifSintax}

-Definición de variables: \newline 
En Jif las variables se definición de la forma: 
\emph{ java-type\{L\} varName; }\newline 
donde java-type especifica el tipo de dato Java que
almacena la variable, \{L\} el label de seguridad  para especificar quien es el
dueño de la variable, y name, el respectivo nombre de la variable.

-Definición de arrays:\newline
java-type\{BL\}[ ]\{SL\} nameArray\newline
Además del tipo de dato Java(java-type) de los elementos almacenados en el
array,  en jif un array cuenta con dos labels de seguridad, Base Label(BL) y
Size Label(SL). BL indica el nivel de seguridad de los elementos que almacena el
array, controlando quien puede conocer la información del mismo. SL especifica
quienes pueden conocer la número de elementos almacenados.

-Definición de métodos.\newline
\emph{ java-type \{RTL\} methodName \{BL\} (arg1\{AL\},,, argn\{AL\}) :\{EL\}
}\newline    
java-type, tipo de dato Java retornado por el método.\newline  
RTL, Return Type Label, indica el label de seguridad con que
queda el tipo de dato devuelto por el método.\newline 
BL begin label, representa el máximo nivel se seguridad del \underline{pc} label
desde donde se invoca el método, de este modo, el program counter label desde donde
se invoca el método debe ser menor o igual de restrictivo que el BL con
que se define el método.\newline 
AL argument label, indica el máximo nivel de
seguridad para los argumentos con que se llama el método, así, los labels de los argumentos con que se invoca el
método deben ser menor o igual de restrictivos que el AL con que ha
definido el método.\newline
EL end label, indica el pc label en el punto de terminación del método, y
representa la información que puede ser conocida.

\subsubsection{Labels de anotación que Jif asume por defecto}
Cuando un label no es especificado, Jif define unos por defecto. 
En el caso de
RTL, jif hace un join entre los diferentes AL con que ha sido definido el
método.

\subsubsection{Llamada a métodos}